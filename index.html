<!doctype html>
<html>
	<head>
		<title>JS1k, 1k demo submission [ID]</title>
		<meta charset="utf-8" />
	</head>
	<body>
    <p>Fading/noisy-landscape, based on brownian motion, implemented in less than a tweet in a js1k environment:</p>
    <code>
d=a.getImageData(p=0,0,128,128);setInterval("for(i=k=66055;--i;d.data[p%k]++)p+=Math.random()*k*k&amp;k;a.putImageData(d,0,0)",50)
</code>
		<canvas id="c"></canvas>
    <p>Reload to watch again.</p>
		<script>
			var b = document.body;
			var c = document.getElementsByTagName('canvas')[0];
			var a = c.getContext('2d');
			document.body.clientWidth; // fix bug in webkit: http://qfox.nl/weblog/218
		</script>
		<script>
// start of submission //
/*
x=0;y=0;

p=0;
//k=(128*128+128+1)*4 + 2 + 1;
//k=(256*128+256+1)*4 + 2 + 1;
d=a.getImageData(0,0,128,128);
function blah() {
    for(i=k=66055;--i;){
        p+=Math.random()*k*k&k;
        d.data[p%k]++;
    }
    a.putImageData(d,0,0);
    setTimeout(blah, 0);
}
blah();
*/

//66055 = 128x128
//345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890
//d=a.getImageData(p=0,0,128,128);setInterval("for(i=k=66055;--i;d.data[p%k]++)p+=Math.random()*k*k&k;a.putImageData(d,0,0)",50)
//d=a.getImageData(p=0,0,512,c.height=512);setInterval("for(i=k=1050631;--i;d.data[p%k]++)p+=Math.random()*k*k&k;a.putImageData(d,0,0)",50)
//d=a.getImageData(p=0,0,256,150);setInterval("for(i=k=263175;--i;d.data[p%k]++)p+=Math.random()*k*k&k;a.putImageData(d,0,0)",50)
d=a.getImageData(p=0,0,128,128);setInterval("for(i=k=66055;--i;d.data[p%k]++)p+=Math.random()*k*k&k;a.putImageData(d,0,0)",50)//brown #js1k
// end of submission //
		</script>
	</body>
</html>
